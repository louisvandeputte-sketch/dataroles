# Prompt Update: Size Category Classification

## ‚ö†Ô∏è IMPORTANT CHANGE

The database now uses `size_category` as the canonical field with **lowercase enum values**.
The translations (category_nl/en/fr) are **automatically generated** by a database trigger.

## ‚ùå OLD Prompt (REMOVE THIS)

```
D. Maturity Classification
Output exactly one category:
EN: Startup | Scaleup | SME | Midmarket | Corporate | Subsidiary | Government | Unknown
NL: Startup | Scale-up | KMO | Middelgroot Bedrijf | Corporate | Dochteronderneming | Overheidsinstelling | Onbekend
FR: Startup | Scale-up | PME | Entreprise Moyenne | Corporate | Filiale | Institution Publique | Inconnu

Also output:
confidence (0‚Äì1)
key_arguments (3‚Äì6 factual bullets, EN)
sources (1‚Äì3 reliable URLs)
```

## ‚úÖ NEW Prompt (USE THIS)

```
D. Maturity Classification

Output ONE canonical category value (lowercase enum):
size_category: "startup" | "scaleup" | "sme" | "established_enterprise" | "corporate" | "public_company" | "government" | "unknown"

‚ö†Ô∏è DO NOT output category_nl, category_en, or category_fr ‚Äî these are auto-generated by the database.

Also output:
size_confidence (0‚Äì1)
size_key_arguments (3‚Äì6 factual bullets, EN)
size_sources (1‚Äì3 reliable URLs)

Category definitions:
- startup: <5 years, <50 employees, early funding, local
- scaleup: 3-10 years, 50-500 employees, VC/growth funding, rapid expansion
- sme: >10 years, 10-100 employees, private, national
- established_enterprise: >10 years, 100-1000 employees, mature, regional/national
- corporate: >10 years, >1000 employees, international
- public_company: Publicly traded company (any size)
- government: Government institution or public sector
- unknown: Insufficient data to classify

Funding rule: Funding signals may support classification but do not override age/size/reach. Lower confidence if signals conflict.
```

## üìä Classification Framework (Updated)

| Category | Age | Employees | Funding | Geography |
|----------|-----|-----------|---------|-----------|
| startup | <5y | <50 | Angels/Early | local |
| scaleup | 3‚Äì10y | 50‚Äì500 | VC/Growth | rapid |
| sme | >10y | 10‚Äì100 | Private | national |
| established_enterprise | >10y | 100‚Äì1000 | Private | regional |
| corporate | >10y | >1000 | Private/Group | intl |
| public_company | ‚Äî | >250 | Public markets | intl |
| government | ‚Äî | ‚Äî | Public | public |
| unknown | ‚Äî | ‚Äî | ‚Äî | ‚Äî |

## üóÇ Output Format Changes

### ‚ùå OLD JSON Structure (DON'T USE)
```json
{
  "maturity": {
    "category_en": "Scaleup",
    "category_nl": "Scale-up",
    "category_fr": "Scale-up",
    "confidence": 0.85,
    "key_arguments": [...],
    "sources": [...]
  }
}
```

### ‚úÖ NEW JSON Structure (USE THIS)
```json
{
  "size_category": "scaleup",
  "size_confidence": 0.85,
  "size_key_arguments": [
    "Founded in 2018 (6 years old)",
    "Approximately 200 employees",
    "Raised ‚Ç¨15M Series B in 2023",
    "Expanding to 5 European markets"
  ],
  "size_sources": [
    "https://company.com/about",
    "https://crunchbase.com/organization/company"
  ]
}
```

## üîÑ What Happens Automatically

When you output `"size_category": "scaleup"`, the database trigger automatically sets:
- `category_nl` = "scaleup"
- `category_en` = "scaleup"
- `category_fr` = "scaleup"

When you output `"size_category": "sme"`, the database trigger automatically sets:
- `category_nl` = "kmo"
- `category_en` = "sme"
- `category_fr` = "pme"

When you output `"size_category": "established_enterprise"`, the database trigger automatically sets:
- `category_nl` = "gevestigde onderneming"
- `category_en` = "established enterprise"
- `category_fr` = "entreprise √©tablie"

## üìù Summary of Changes

1. **Remove** from prompt: `category_en`, `category_nl`, `category_fr`
2. **Add** to prompt: `size_category` (lowercase enum)
3. **Rename** fields: `confidence` ‚Üí `size_confidence`, `key_arguments` ‚Üí `size_key_arguments`, `sources` ‚Üí `size_sources`
4. **Use lowercase enum values**: "startup", "scaleup", "sme", "established_enterprise", "corporate", "public_company", "government", "unknown"
5. **Remove** "Midmarket" and "Subsidiary" (use "established_enterprise" instead)
6. **Add** "public_company" for publicly traded companies

## ‚úÖ Benefits

- Single source of truth (size_category enum)
- Automatic translation consistency
- No manual translation needed
- Simpler LLM output (one field instead of three)
- Database handles all translations
